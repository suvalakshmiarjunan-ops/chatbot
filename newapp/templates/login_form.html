<!-- {% load static %} -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Log in</title>
  <!-- <link rel="preconnect" href="https://fonts.googleapis.com"> -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Bootstrap JS (with Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <style>
    :root{
      --bg:#f7f8fb;
      --card:#ffffff;
      --ink:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;
      --fill:#f3f4f6;
      --primary:#0d6efd;
      --primary-press:#0b5ed7;
      --radius:18px;
      --shadow: 0 20px 50px rgba(0,0,0,.08);
    }
    html,body{height:100%}
    body{
      margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      background: var(--bg); color: var(--ink); display:grid; place-items:center;
    }
    .card{
      width:min(420px, 92vw);
      background:var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:28px 28px 24px;
    }
    .title{font-size:28px; font-weight:700; text-align:center; margin:6px 0 6px;}
    .subtitle{color:var(--muted); text-align:center; margin:0 0 18px; font-size:14px;}
    .field{
      display:flex; align-items:center; gap:10px;
      background:var(--fill);
      border:1px solid var(--line);
      border-radius:12px; padding:10px 12px; height:44px;
    }
    .field + .field{ margin-top:12px; }
    .field input{
      border:0; outline:0; background:transparent; width:100%;
      font-size:14px; color:var(--ink);
    }
    .icon{width:18px; height:18px; flex:0 0 18px; color:#9ca3af}
    .toggle{cursor:pointer; border:0; background:transparent; padding:0; display:flex; align-items:center}
    .btn{
      width:100%; height:46px; border:0; border-radius:12px; margin-top:16px;
      background:var(--primary); color:#fff; font-weight:600; font-size:16px; cursor:pointer;
    }
    .btn:active{ background: var(--primary-press); }
    .messages{margin:6px 0 0; padding:0; list-style:none; font-size:13px}
    .messages li{padding:10px 12px; border-radius:10px; margin-top:8px; background:#fff3cd; color:#7a5b00; border:1px solid #ffe69c}
    .help{display:flex; justify-content:space-between; align-items:center; margin-top:10px; font-size:13px; color:var(--muted)}
    a.link{color:var(--primary); text-decoration:none}
    a.link:hover{text-decoration:underline}
  </style>
</head>
<body>

  <main class="card">
    {% include 'components/flash.html' %}
    <h1 class="title">Welcome</h1>
    <p class="subtitle">Please enter your details to log in</p>

    <form method="post" action="{% url 'login_post' %}" method="post">
      {% csrf_token %}

      <label class="field" for="id_username">
        <!-- mail icon -->
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M4 6h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z"/>
          <path d="m22 8-10 6L2 8"/>
        </svg>
        <input id="id_username" name="email" type="email" placeholder="Email ID" required />
      </label>

      <label class="field" for="id_password">
        <!-- lock icon -->
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <rect x="3" y="11" width="18" height="10" rx="2" ry="2"/>
          <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
        </svg>
        <input id="id_password" name="password" type="password" placeholder="Password" required />
        <button type="button" id="togglePwd" class="toggle" aria-label="Show password">
          <!-- eye icon -->
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12Z"/>
            <circle cx="12" cy="12" r="3"/>
          </svg>
        </button>
      </label>

      <button class="btn" type="submit">Log in</button>

      <!-- <div class="help">
        <label style="display:flex;align-items:center;gap:6px;">
          <input type="checkbox" name="remember" /> Remember me
        </label>
        <a class="link" href="">Forgot password?</a>
      </div> -->
    </form>
  </main>

  <script>
    (function(){
      const input = document.getElementById('id_password');
      const toggle = document.getElementById('togglePwd');
      let visible = false;
      toggle.addEventListener('click', function(){
        visible = !visible;
        input.type = visible ? 'text' : 'password';
        toggle.setAttribute('aria-label', visible ? 'Hide password' : 'Show password');
      });
    })();
  </script>
</body>
</html>
